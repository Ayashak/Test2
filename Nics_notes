First did the infra-interview-support. Had to change the na s3 bucket convention to tw-joii-nan as -na had been created and deleted in the past in eu-west so...  
Then  

When following the directions:  

After the successful login, running `make deploy_interview` fails with the following message:  

```
Error: No valid credential sources found for AWS Provider.
	Please see https://terraform.io/docs/providers/aws/index.html for more information on
	providing credentials for the AWS Provider

  on provider.tf line 6, in provider "aws":
   6: provider "aws" {
```

This is right after the app-build steps, which can range from 25 to 40 min to build on 16" Macbook Pro 2019 with gigabit connection. Whoa  

## First work around strategy  


1. Create personal credentials using the format 'tw.first.last'

- create your own credentials with programmatic access  
- attach the AdministratorAccess managed policy directly  
- add these credentials to local aws-vault  

Run the command:  
```
$ aws-vauilt exec tw.nic.cheneweth -- make deploy_interview


It now fails while building the back.infra with the following error:  
```
Error: Error creating IAM Role newsdope_news_host: InvalidClientTokenId: The security token included in the request is invalid
	status code: 403, request id: 14eb4ee3-35b0-43e8-a614-e0bd217b9c7e

  on iam-vms.tf line 12, in resource "aws_iam_role" "news_host":
  12: resource "aws_iam_role" "news_host" {
```

So i manually run the following:  
```
$ aws-vault exec tw.nic.cheneweth --no-session -- make backend-support.infra
$ aws-vault exec tw.nic.cheneweth --no-session -- make base.infra
$ make docker
```

but push failed with aws cli errors. Made the follwing correction:  

aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin $(REPO_URL)$(IMAGE_NAME)


Now run the following:  
```
$ aws-vault exec tw.nic.cheneweth --no-session -- make push
$ aws-vault exec tw.nic.cheneweth --no-session -- make news.infra
$ aws-vault exec tw.nic.cheneweth --no-session -- make deploy_site
```

Works;;;



Tear it all down

```bash
$ aws-vault exec tw.nic.cheneweth --no-session -- make news.deinfra
$ aws-vault exec tw.nic.cheneweth --no-session -- make base.deinfra
$ aws-vault exec tw.nic.cheneweth --no-session -- make backend-support.deinfra
```
